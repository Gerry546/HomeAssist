title: Power
path: power
icon: mdi:power-plug
type: custom:grid-layout
layout:
  grid-gap: var(--custom-layout-card-padding)
  grid-template-columns: repeat(4, 1fr) 0
  grid-template-rows: 0 repeat(2, fit-content(100%)) 0fr
  grid-template-areas: |
    "sidebar .            .                 .                 ."
    "sidebar power_total  current           voltage           ."
    "sidebar power        gas               various           ."
    "sidebar .            .                 .                 ."
  mediaquery:
    "(max-width: 600px)":
      grid-gap: calc(var(--custom-layout-card-padding) * 1.7)
      grid-template-columns: 0 repeat(1, 1fr) 0
      grid-template-rows: 0 repeat(7, fit-content(100%)) 0fr
      grid-template-areas: |
        ".    .               ."
        ".    sidebar         ."
        ".    power_total     ."
        ".    current         ."
        ".    voltage         ."
        ".    power           ."
        ".    gas             ."
        ".    various         ."
        ".    .               ."
    "(max-width: 800px)":
      grid-gap: calc(var(--custom-layout-card-padding) * 1.7)
      grid-template-columns: 0 repeat(2, 1fr) 0
      grid-template-rows: 0 repeat(5, fit-content(100%)) 0fr
      grid-template-areas: |
        ".    .               .           ."
        ".    sidebar         sidebar     ."
        ".    power_total     current     ."
        ".    voltage         power       ."
        ".    gas             various     ."
        ".    .               .           ."
cards:
  - !include ui-sidebar.yaml
  #####################################
  - type: custom:mini-graph-card
    view_layout:
      grid-area: gas
    name: Gas Consumption
    entities:
      - entity: sensor.gas_consumption
    show:
      graph: bar
  #####################################
  - type: custom:mini-graph-card
    view_layout:
      grid-area: current
    name: Current
    entities:
      - entity: sensor.current_phase_l1
      - entity: sensor.current_phase_l2
      - entity: sensor.current_phase_l3
  #####################################
  - type: custom:mini-graph-card
    view_layout:
      grid-area: voltage
    name: Voltage
    entities:
      - entity: sensor.voltage_phase_l1
      - entity: sensor.voltage_phase_l2
      - entity: sensor.voltage_phase_l3
  #####################################
  - type: entities
    view_layout:
      grid-area: various
    name: Power Outage
    entities:
      - entity: sensor.voltage_sags_phase_l1
      - entity: sensor.voltage_sags_phase_l2
      - entity: sensor.voltage_sags_phase_l3
      - entity: sensor.voltage_swells_phase_l1
      - entity: sensor.voltage_swells_phase_l2
      - entity: sensor.voltage_swells_phase_l3
      - entity: sensor.power_tariff
      - entity: sensor.long_power_failure_count
      - entity: sensor.short_power_failure_count
  #####################################
  - type: custom:mini-graph-card
    view_layout:
      grid-area: power
    name: Energy Consumption
    entities:
      - entity: sensor.energy_consumption_tarif_1
      - entity: sensor.energy_consumption_tarif_2
  #####################################
  - type: custom:mini-graph-card
    view_layout:
      grid-area: power_total
    name: Power
    entities:
      - entity: sensor.power_consumption
      - entity: sensor.power_consumption_phase_l1
      - entity: sensor.power_consumption_phase_l2
      - entity: sensor.power_consumption_phase_l3
